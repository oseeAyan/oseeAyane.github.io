import{Q as z}from"./QPage.cd41117f.js";import{u as ue,a as de,b as ce,c as me,d as fe,e as pe,f as he,g as ve,h as O,Q as ge,i as b,j as we,k as A}from"./QCard.c63893f1.js";import{u as ye,v as I,a as _e,b as Te,c as be,r as V,s as xe,p as q,d as Ce,Q as Se}from"./QSelect.1ee0c0a3.js";import{Q as Pe,a as ke}from"./QBtn.5dad703a.js";import{t as E,f as y,k as L,n as U,C as H,D as M,h as D,T as Qe,j as Oe,E as Ae,_ as R,o as j,c as B,w as n,a as o,F as f,G as Ie,d as Ve,r as qe}from"./index.12af8bea.js";import{c as Ee,h as Le}from"./dom.79c295ed.js";import{g as Ue,a as He,Q as Me}from"./QLayout.6b9f1fc3.js";var De=Ee({name:"QTooltip",inheritAttrs:!1,props:{...ye,...ue,...de,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:I},self:{type:String,default:"top middle",validator:I},offset:{type:Array,default:()=>[14,14],validator:_e},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ce],setup(e,{slots:a,emit:d,attrs:c}){let t,u;const r=Oe(),{proxy:{$q:i}}=r,p=E(null),g=E(!1),F=y(()=>q(e.anchor,i.lang.rtl)),N=y(()=>q(e.self,i.lang.rtl)),W=y(()=>e.persistent!==!0),{registerTick:Z,removeTick:$}=me(),{registerTimeout:w}=fe(),{transitionProps:G,transitionStyle:J}=pe(e),{localScrollTarget:x,changeScrollEvent:K,unconfigureScrollTarget:X}=Te(e,k),{anchorEl:l,canShow:Y,anchorEvents:h}=be({showing:g,configureAnchorEl:ne}),{show:ee,hide:_}=he({showing:g,canShow:Y,handleShow:se,handleHide:oe,hideOnRouteChange:W,processOnMount:!0});Object.assign(h,{delayShow:ae,delayHide:re});const{showPortal:C,hidePortal:S,renderPortal:te}=ve(r,p,le,"tooltip");if(i.platform.is.mobile===!0){const s={anchorEl:l,innerRef:p,onClickOutside(m){return _(m),m.target.classList.contains("q-dialog__backdrop")&&Ae(m),!0}},T=y(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);L(T,m=>{(m===!0?Ce:V)(s)}),U(()=>{V(s)})}function se(s){C(),Z(()=>{u=new MutationObserver(()=>v()),u.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),v(),k()}),t===void 0&&(t=L(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,v)),w(()=>{C(!0),d("show",s)},e.transitionDuration)}function oe(s){$(),S(),P(),w(()=>{S(!0),d("hide",s)},e.transitionDuration)}function P(){u!==void 0&&(u.disconnect(),u=void 0),t!==void 0&&(t(),t=void 0),X(),H(h,"tooltipTemp")}function v(){xe({targetEl:p.value,offset:e.offset,anchorEl:l.value,anchorOrigin:F.value,selfOrigin:N.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ae(s){if(i.platform.is.mobile===!0){O(),document.body.classList.add("non-selectable");const T=l.value,m=["touchmove","touchcancel","touchend","click"].map(Q=>[T,Q,"delayHide","passiveCapture"]);M(h,"tooltipTemp",m)}w(()=>{ee(s)},e.delay)}function re(s){i.platform.is.mobile===!0&&(H(h,"tooltipTemp"),O(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),w(()=>{_(s)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||l.value===null)return;const s=i.platform.is.mobile===!0?[[l.value,"touchstart","delayShow","passive"]]:[[l.value,"mouseenter","delayShow","passive"],[l.value,"mouseleave","delayHide","passive"]];M(h,"anchor",s)}function k(){if(l.value!==null||e.scrollTarget!==void 0){x.value=Ue(l.value,e.scrollTarget);const s=e.noParentEvent===!0?v:_;K(x.value,s)}}function ie(){return g.value===!0?D("div",{...c,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",c.class],style:[c.style,J.value],role:"tooltip"},Le(a.default)):null}function le(){return D(Qe,G.value,ie)}return U(P),Object.assign(r.proxy,{updatePosition:v}),te}});const ze={data(){return{userType:"",userTypes:["Administrateur","Utilisateur"],email:"",password:"",passwordIcon:"",passwordColor:"",passwordTooltip:"",emailRule:[e=>!!e||"Adresse email requise",e=>/\S+@\S+\.\S+/.test(e)||"Adresse email invalide"],passwordRule:[e=>!!e||"Mot de passe requis",e=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(e)||"Le mot de passe doit contenir au moins 8 caract\xE8res, dont une lettre et un chiffre"]}},methods:{submitForm(){this.$refs.form.validate()&&(this.userType==="Administrateur"?this.authenticateUser(this.email,this.password,Re,"/MyDashboard"):this.userType==="Utilisateur"&&this.authenticateUser(this.email,this.password,je,"/DashUser"))},authenticateUser(e,a,d,c){e===d.email&&a===d.password?this.$router.push(c):console.log("Identifiants incorrects")},checkPasswordCriteria(){this.passwordRule[1](this.password)===!0?(this.passwordIcon="check_circle",this.passwordColor="green",this.passwordTooltip="Mot de passe valide"):(this.passwordIcon="highlight_off",this.passwordColor="red",this.passwordTooltip="Le mot de passe doit contenir au moins 8 caract\xE8res, dont une lettre et un chiffre")}},watch:{password(){this.checkPasswordCriteria()}}},Re={email:"hibaigleadm@gmail.com",password:"Admin1234"},je={email:"user@example.com",password:"UserPass123"},Be=f("div",{class:"text-grey-9 text-h5 text-weight-bold"},"Se connecter",-1),Fe=f("div",{class:"text-grey-8"}," Connectez-vous ci-dessous pour acc\xE9der \xE0 votre compte ",-1),Ne={class:"q-gutter-md"},We=f("div",{class:"text-grey-8"},[Ie(" Vous n'avez pas encore de compte? "),f("a",{href:"#",class:"text-dark text-weight-bold",style:{"text-decoration":"none"}},"S'inscrire.")],-1);function Ze(e,a,d,c,t,u){return j(),B(Me,{view:"lHh Lpr lFf"},{default:n(()=>[o(He,null,{default:n(()=>[o(z,{class:"flex flex-center bg-grey-2"},{default:n(()=>[o(ge,{class:"q-pa-md shadow-2 my_card",bordered:""},{default:n(()=>[o(b,{class:"text-center"},{default:n(()=>[Be,Fe]),_:1}),o(b,null,{default:n(()=>[o(we,{onSubmit:u.submitForm,ref:"form"},{default:n(()=>[f("div",Ne,[o(Se,{modelValue:t.userType,"onUpdate:modelValue":a[0]||(a[0]=r=>t.userType=r),options:t.userTypes,label:"Qui \xEAtes-vous ?",outlined:"",dense:"",required:""},null,8,["modelValue","options"]),o(A,{dense:"",outlined:"",modelValue:t.email,"onUpdate:modelValue":a[1]||(a[1]=r=>t.email=r),label:"Adresse Email",type:"email",required:"",rules:[t.emailRule],"lazy-rules":""},null,8,["modelValue","rules"]),o(A,{modelValue:t.password,"onUpdate:modelValue":a[2]||(a[2]=r=>t.password=r),label:"Mot de passe",outlined:"",dense:"",type:"password",required:"",rules:[t.passwordRule],"lazy-rules":""},{append:n(()=>[o(Pe,{name:t.passwordIcon,color:t.passwordColor},null,8,["name","color"]),o(De,{content:t.passwordTooltip},null,8,["content"])]),_:1},8,["modelValue","rules"])]),o(ke,{style:{"border-radius":"8px"},color:"dark",type:"submit",rounded:"",size:"md",label:"Connexion","no-caps":"",class:"full-width"})]),_:1},8,["onSubmit"])]),_:1}),o(b,{class:"text-center q-pt-none"},{default:n(()=>[We]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var $e=R(ze,[["render",Ze]]);const Ge=Ve({components:{LogIn:$e},name:"LogInUser"}),Je={class:"container"};function Ke(e,a,d,c,t,u){const r=qe("LogIn");return j(),B(z,{class:"center"},{default:n(()=>[f("div",Je,[o(r)])]),_:1})}var rt=R(Ge,[["render",Ke]]);export{rt as default};
